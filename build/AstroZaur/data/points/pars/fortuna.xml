<?xml version="1.0"?>
<astrozaur>
    <points>
	<point name="Fortuna" type="lua">
	    <lua>
		<chunk when="INIT">
		    local self = ...
		    self.comment = "Wheel of fortune"
		    self.avr_speed = 360
		</chunk>
	    
		<chunk when="CALC">
		    local self, chart = ...
		    local lon = 0
		    local lat = 0
		    local speed = 360
    
		    local asc = chart.point.Asc.lon
		    local sun = chart.point.Sun.lon

		    if astro.angle(sun, asc) > 0 then
			lon = asc + chart.point.Moon.lon - sun
		    else
			lon = asc - chart.point.Moon.lon + sun
		    end
		    
		    return lon, lat, speed
		</chunk>
	    </lua>
	    <persist/>
	    <dot/>
	    <color>#808080</color>
	    <bitmap>data/pixmaps/fortuna.gif</bitmap>
	    <category>pars</category>
	</point>
    </points>
</astrozaur>
